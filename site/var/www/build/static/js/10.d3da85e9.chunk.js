(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{630:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g}));var c=n(627),r=n.n(c),a=n(628),o=n(636),i=n.n(o),s=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_URL:"http://localhost:21249/delivery/",REACT_APP_PROD_URL:"http://powerindicaassociadoapi.kinghost.net:21249/delivery/"}),l=s.NODE_ENV,j=s.REACT_APP_PROD_URL,d=s.REACT_APP_DEV_URL,b="production"===l?j:d,u=i.a.create({baseURL:b}),x=n(639),O=n.n(x),p=function(){var e=Object(a.a)(r.a.mark((function e(t){var n,c,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,u.get("".concat(t),{params:n});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.post("".concat(t),n);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("https://www.solutek.online/api/whatsapp/gateway/json/enviar",t,{headers:{"content-type":"application/x-www-form-urlencoded"}});case 2:e.sent.data||O.a.fire({icon:"warning",title:"Aten\xe7\xe3o...",text:"Ocorreu um erro ao enviar as informa\xe7\xf5es para o whatsapp!",customClass:{container:"test"}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},632:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var c=n(113),r=function(e){return{type:c.a.ADD_INFO_FORM,payload:e}},a=function(){return{type:c.a.CLEAR_FORM}}},634:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return j})),n.d(t,"b",(function(){return d}));n(1);var c=n(15),r=function(e){var t=e.size,n=void 0===t?null:t,r=e.children;return Object(c.jsx)("span",{style:{fontSize:n||"14px",color:"black",fontWeight:"bold",marginBottom:"10px"},children:r})},a=function(e){var t=e.children;return Object(c.jsx)("span",{style:{fontSize:"12px"},children:t})},o=function(e){var t=e.active,n=e.text;return Object(c.jsx)("span",{style:{color:t?"green":"red"},children:n})},i=function(e){var t=e.text;return Object(c.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px",pointerEvents:"none"},children:t})},s=function(e){var t=e.children;return Object(c.jsx)("div",{style:{fontSize:"14px"},children:t})},l=function(e){var t=e.active,n=e.text;return Object(c.jsx)("div",{style:{padding:"5px",color:"white",backgroundColor:t?"green":"red",fontSize:"14px",fontWeight:"bold",borderRadius:"3px"},children:n})},j=function(e){var t=e.children;return Object(c.jsx)("div",{style:{background:"#f0f0f7",padding:"10px 15px",fontSize:"18px"},children:t})},d=function(e){var t=e.text;return Object(c.jsx)("span",{style:{color:"red"},children:t})}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var c=n(111),r=function(){return{type:c.a.ADD_PRODUCT_CART}},a=function(){return{type:c.a.REMOVE_PRODUCT_CART}},o=function(){return{type:c.a.CLEAR_CART}}},839:function(e,t,n){"use strict";n.r(t);var c=n(624),r=n(1),a=n(20),o=n(622),i=n(85),s=n(683),l=n(627),j=n.n(l),d=n(22),b=n(628),u=n(801),x=n.n(u),O=n(63),p=n(842),h=n(840),g=n(833),f=n(834),m=n(835),v=n(836),_=n(632),y=n(162),w=n(630),C=n(634),S=n(639),D=n.n(S),R=n(15),k=function(e){var t=e.title,n=e.setStep,c=e.countSteps,r=e.step,a=e.children,i=e.validation,s=e.finish,l=e.showAlert,d=void 0!==l&&l,u=e.getStartDate;function x(){return(x=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return",s());case 2:return e.next=4,i();case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",d&&D.a.fire("Erro",t,"error"));case 7:0===r&&u(),r<c-1&&n((function(e){return e+1}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(R.jsxs)(o.e,{style:{marginBottom:"80px"},children:[Object(R.jsx)(o.h,{children:Object(R.jsx)(o.i,{children:t})}),Object(R.jsx)(o.f,{children:a}),Object(R.jsxs)(o.g,{children:[Object(R.jsx)(o.d,{block:!0,color:"danger",style:{width:"100%"},onClick:function(){n((function(e){return e-1}))},disabled:0===r,children:"Voltar"}),Object(R.jsx)(o.d,{block:!0,color:"info",style:{width:"100%"},onClick:function(){return function(){return x.apply(this,arguments)}()},children:r===c-1?"Finalizar":"Pr\xf3ximo"})]})]})},T=function(e){var t=e.title,n=e.setStep,a=e.countSteps,l=e.step,u=Object(O.b)(),S=Object(O.c)(y.a),D=S.check_agendamento,T=S.dh_agendamento,A=S.produtos_pedidos,E=Object(r.useState)(!1),P=Object(c.a)(E,2),N=P[0],F=P[1],B=Object(r.useState)(),I=Object(c.a)(B,2),q=I[0],L=I[1],M=Object(r.useState)(!0),H=Object(c.a)(M,2),z=(H[0],H[1]),G=Object(r.useState)(!1),V=Object(c.a)(G,2),$=(V[0],V[1],Object(r.useState)(void 0)),U=Object(c.a)($,2),W=U[0],J=U[1];Object(r.useEffect)((function(){K()}),[]);var K=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)("/horariosVisible/".concat(localStorage.getItem("id_empresa")));case 2:t=e.sent,J(t.data.horario_funcionamento),L(t.data.rows),t.data.horario_funcionamento||u(Object(_.a)(Object(d.a)(Object(d.a)({},S),{},{check_agendamento:!t.data.horario_funcionamento}))),z(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=q["acesso_".concat(e,"_faixa_").concat(n)],r=q["faixa_".concat(n)];if(void 0===c)return[];if(!c||!r)return[{error:!0}].concat(Object(s.a)(X(e,t,n+1)));var a=Object(h.a)(q["hora_fun_ini_".concat(e,"_faixa_").concat(n)],"HH:mm:ss",t),o=Object(h.a)(q["hora_fun_fim_".concat(e,"_faixa_").concat(n)],"HH:mm:ss",t),i=Object(g.a)(a,1),l=o;if(Object(f.a)(l,i)&&(l=Object(m.a)(l,1)),l=Object(g.a)(l,-1),Object(f.a)(l,i),Object(f.a)(l,new Date))return[{error:!0}].concat(Object(s.a)(X(e,t,n+1)));var j={start:i,end:l},d=Object(v.a)(t,j);if(d)return[{error:!1}];var b={error:!0,interval:j};return n>3?[b]:[b].concat(Object(s.a)(X(e,t,n+1)))}function Y(){return(Y=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)("date-servidor");case 2:t=e.sent,u(Object(_.a)(Object(d.a)(Object(d.a)({},S),{},{dh_start_atendimento:t.data.date,tipo_atendimento:"SAC",protocolo:x()().unix()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(R.jsx)(k,{title:t,setStep:n,countSteps:a,step:l,validation:function(){if(D){if(!q.faixa_1)return"Nenhum hor\xe1rio dispon\xedvel";if(D&&!T)return"Informe a data do agendamento";var e=new Date(T),t=X(function(e){switch(e){case 0:return"dom";case 1:return"seg";case 2:return"ter";case 3:return"qua";case 4:return"qui";case 5:return"sex";case 6:return"sab"}}(e.getDay()),e),n=!1;if(A.forEach((function(e){"opcoes"===e.info&&D&&!e.agendamento&&(console.log("teste3"),F("O produto ".concat(e.descricao," n\xe3o esta dispon\xedvel para agendamento.")),n=!0)})),n)return!0;if(!t.some((function(e){return!e.error})))if(t.some((function(e){return e.interval}))){var c=t.reduce((function(e,t){if(!t.interval)return e;var n=Object(p.a)(t.interval.start,"HH:mm"),c=Object(p.a)(t.interval.end,"HH:mm");return e?e+", ou ".concat(n," - ").concat(c):"".concat(n," - ").concat(c)}),!1);F("Hor\xe1rio indispon\xedvel selecione um per\xedodo entre ".concat(c))}else F("N\xe3o h\xe1 faixas de hor\xe1rios dispon\xedveis para o dia selecionado!")}},getStartDate:function(){return Y.apply(this,arguments)},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"8",lg:"4",children:Object(R.jsx)(o.w,{children:"Deseja agendar o pedido?"})}),Object(R.jsx)(o.j,{xs:"4",lg:"8",children:Object(R.jsx)(o.E,{color:"success",shape:"pill",checked:D,onChange:W&&function(e){if(e.target.checked)return u(Object(_.a)(Object(d.a)(Object(d.a)({},S),{},{check_agendamento:e.target.checked})));S.check_agendamento,S.dh_agendamento;var t=Object(i.a)(S,["check_agendamento","dh_agendamento"]);return u(Object(_.a)(t))},disabled:!W})}),D&&Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Data Agendamento"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{placeholder:"Data do agendamento",onChange:function(e){return u(Object(_.a)(Object(d.a)(Object(d.a)({},S),{},{dh_agendamento:e.target.value})))},value:T,type:"datetime-local",min:Object(p.a)(new Date,"yyyy-MM-dd'T'HH:mm")})})]})}),N&&Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(C.b,{text:N})})]})})},A=n(711),E=n.n(A),P=function(e){var t=e.title,n=e.setStep,c=e.countSteps,r=e.step,a=Object(O.b)(),i=Object(O.c)(y.a),s=i.telefone_cliente;return Object(R.jsx)(k,{title:t,setStep:n,countSteps:c,step:r,validation:function(){return!s},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(C.c,{style:{color:"red"},children:"*Informe um n\xfamero de whatsapp valido"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Informe seu n\xfamero de whatsapp: "})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(E.a,{mask:"(99) 99999-9999",value:s,onChange:function(e){return a(Object(_.a)(Object(d.a)(Object(d.a)({},i),{},{telefone_cliente:e.target.value})))},children:function(e){return Object(R.jsx)(o.u,Object(d.a)(Object(d.a)({},e),{},{placeholder:"Telefone",type:"text"}))}})})]})})]})})},N=function(e){var t=new Date(e),n=t.getDate(),c=t.getMonth(),r=t.getFullYear(),a=t.getHours(),o=t.getMinutes();return"".concat(n,"-").concat(["01","02","03","04","05","06","07","08","09","10","11","12"][c],"-").concat(r,"  ").concat(a<=9?"0"+a:a,":").concat(o<=9?"0"+o:o)},F=function(e){var t=e.title,n=e.setStep,c=e.countSteps,a=e.step,i=Object(O.b)(),s=Object(O.c)(y.a),l=s.empresa,u=(s.tipo_atendimento,s.tipo_telefone),x=s.telefone_cliente,p=void 0===x?"":x,h=s.protocolo,g=s.nome_cliente,f=void 0===g?"":g;function m(){return(m=Object(b.a)(j.a.mark((function e(){var t,n,c,r,a,o,l,b,u,x,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p.replace(/_/gi,"").length<14)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(w.b)("enderecosVisible?address=".concat(p));case 4:if(t=e.sent,n=t.data,0!==t.data.length){e.next=8;break}return e.abrupt("return");case 8:c=t.data[0],r=c.nome_cliente,a=c.endereco,o=c.numero,l=c.bairro,b=c.cep,u=c.cidade,x=c.uf,O=c.complemento,i(Object(_.a)(Object(d.a)(Object(d.a)({},s),{},{nome_cliente:r,endereco:a,numero:o,bairro:l,cep:b,cidade:u,uf:x,complemento:O,historico_atendimentos:n})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){f||function(){m.apply(this,arguments)}()}),[]),Object(R.jsx)(k,{title:t,setStep:n,countSteps:c,step:a,validation:function(){return!f},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Empresa"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:l&&l.nome_fantasia,disabled:!0})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Protocolo"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:h,disabled:!0})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Nome do Cliente"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:f,onKeyPress:function(e){return function(e){var t=(e=window.event).keyCode;t>47&&t<58&&(alert("Nome n\xe3o pode conter caracteres num\xe9ricos!"),e.preventDefault())}(e)},onChange:function(e){return i(Object(_.a)(Object(d.a)(Object(d.a)({},s),{},{nome_cliente:e.target.value})))}})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Tipo Telefone"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:u,disabled:!0})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Telefone"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:p,disabled:!0})})]})})]})})},B=n(843),I=n(846),q=n(844),L=n(804),M=(n(805),n(715)),H=function(e){var t=e.title,n=e.setStep,a=e.countSteps,s=e.step,l=Object(O.b)(),u=Object(O.c)(y.a),x=u.telefone_cliente,p=u.tipo_retirada,h=u.empresa,g=u.uf,f=u.cep,m=u.cidade,v=u.bairro,C=u.endereco,S=u.numero,D=u.complemento,T=u.taxa_de_entrega,A=(u.historico_atendimentos,u.id),P=Object(r.useState)([]),N=Object(c.a)(P,2),F=N[0],H=N[1],z=[{value:"ENTREGA",label:"Entrega"},{value:"LOCAL",label:"Retirada balc\xe3o"}],G=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amap\xe1"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Cear\xe1"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espirito Santo"},{value:"GO",label:"Goi\xe1s"},{value:"MA",label:"Maranh\xe3o"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MT",label:"Mato Grosso"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Par\xe1"},{value:"PB",label:"Para\xedba"},{value:"PR",label:"Paran\xe1"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piau\xed"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rond\xf4nia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"S\xe3o Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}];function V(){return(V=Object(b.a)(j.a.mark((function e(t){var n,c,r,a,o,i,s,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{cep:n}))),n&&9===n.replace(/_/gi,"").length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(w.b)("cepVisible?ceps=".concat(n));case 6:c=e.sent,r=c.data,a=r.logradouro,o=r.cidade,i=r.uf,s=r.bairro,b=r.tipo_logradouro,l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{uf:i,cep:n,cidade:o,bairro:s,endereco:"".concat(b," ").concat(a)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(b.a)(j.a.mark((function e(){var t,n,c,r,a,o,i,s,b,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x.replace(/_/gi,"").length<14)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(w.b)("enderecosVisible?address=".concat(x));case 4:if(t=e.sent,n=t.data,0!==t.data.length){e.next=8;break}return e.abrupt("return");case 8:c=t.data[0],r=c.endereco,a=c.numero,o=c.bairro,i=c.cep,s=c.cidade,b=c.uf,O=c.complemento,l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{endereco:r,numero:a,bairro:o,cep:i,cidade:s,uf:b,complemento:O,historico_atendimentos:n})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)("taxaVisible/".concat(h.id,"?days=true"));case 2:t=e.sent,H(t.data.map((function(e){return{label:"".concat(e.bairro_cidade_st," - R$ ").concat(e.valor.toFixed(2)," | ").concat(e.tempo_entrega," minutos"),value:{valor:e.valor,tempo_entrega:e.tempo_entrega,id:e.id,coordenadas:e.coordenadas}}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){if("LOCAL"===p){u.taxa_de_entrega,u.cep,u.endereco,u.numero,u.bairro,u.cidade,u.uf,u.complemento;var e=Object(i.a)(u,["taxa_de_entrega","cep","endereco","numero","bairro","cidade","uf","complemento"]);l(Object(_.a)(e))}}),[p]),Object(r.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){C||function(){$.apply(this,arguments)}()}),[p]);return Object(R.jsx)(k,{title:t,setStep:n,countSteps:a,step:s,validation:function(){return"LOCAL"!==p&&(p?void 0===T||!1===T?"Taxa de entrega inv\xe1lida":f&&9===f.length?C&&0!==C.trim().length?S&&0!==S.trim().length?v&&0!==v.trim().length?m&&0!==m.trim().length?(!g||0===g.trim().length)&&"Estado inv\xe1lido":"Cidade inv\xe1lida":"Bairro inv\xe1lido":"N\xfamero inv\xe1lido":"Rua inv\xe1lida":"Cep inv\xe1lido":"Favor preencher o tipo da entrega")},showAlert:!0,children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Tipo de Entrega"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(M.a,{options:z,placeholder:"Selecione o tipo da entrega",value:z.find((function(e){return e.value===p})),onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{tipo_retirada:e.value})))}})})]})}),"ENTREGA"===p&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Taxa de Entrega"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(M.a,{options:F,placeholder:"Taxa de Entrega",value:F.find((function(e){return e.value.id===A})),onChange:function(e){var t=e.value,n=t.valor,c=t.tempo_entrega,r=t.id,a=t.coordenadas;l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{taxa_de_entrega:n,tempo_entrega:c,id:r,coordenadas:a?JSON.parse(a):null})))},maxMenuHeight:130})})]})}),u.coordenadas&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{height:"400px",width:"100%",marginBottom:"40px"},children:Object(R.jsxs)(o.D,{style:{height:"400px",width:"100%"},children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"\xc1rea de Entrega"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{height:"400px",width:"100%",marginBottom:"20px"},children:Object(R.jsxs)(B.a,{center:function(){var e=u.coordenadas[0];e[e.length]=e[0];var t=Object(c.a)(Object(L.centroid)(Object(L.polygon)([e.map((function(e){var t=e.lat;return[e.lng,t]}))])).geometry.coordinates,2),n=t[0];return[t[1],n]}(),zoom:15,zoomControl:!1,style:{width:"90%",height:"400px",margin:"0 auto",zIndex:"0"},children:[Object(R.jsx)(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),Object(R.jsx)(q.a,{positions:u.coordenadas})]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"CEP"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(E.a,{mask:"99999-999",value:f,onChange:function(e){return V.apply(this,arguments)},children:function(e){return Object(R.jsx)(o.u,Object(d.a)(Object(d.a)({},e),{},{placeholder:"Cep",type:"text"}))}})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Rua"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{endereco:e.target.value})))},value:C})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"N\xfamero"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{numero:e.target.value})))},value:S})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Bairro"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{bairro:e.target.value})))},value:v})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Cidade"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{cidade:e.target.value})))},value:m})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Estado"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(M.a,{options:G,placeholder:"Estado",value:G.find((function(e){return e.value===g})),onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{uf:e.value})))},maxMenuHeight:190})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Refer\xeancia"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{value:D,onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{complemento:e.target.value})))}})})]})})]})]})})},z=n(826),G=function(e){var t=e.children,n=e.isDragActive,c=e.getRootProps;return Object(R.jsx)("div",Object(d.a)(Object(d.a)({},c()),{},{style:{width:"100%",backgroundColor:n?"#028AF4":"#f0f0f7",height:"150px",outline:"none",cursor:"pointer",transition:"all.2s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center",border:"2px ".concat(n?"solid":"dashed"," #028AF4"),opacity:"".concat(n?"0.8":"1"),color:"".concat(n&&"white"),fontWeight:"bold",borderRadius:"5px"},children:t}))},V=function(e){var t=e.children;return Object(R.jsx)("div",{style:{top:"0",right:"0",width:"300px",height:"300px",zIndex:"5",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"3px",cursor:"pointer"},children:t})},$=function(e){var t=e.children,n=e.removeImage;return Object(R.jsx)("div",{onClick:function(){return n()},style:{position:"absolute",top:"0",right:"0",width:"40px",height:"40px",zIndex:"5",backgroundColor:"#3F51B5",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"3px",cursor:"pointer"},children:t})},U=n(633),W=n(820),J=function(e){var t=e.title,n=e.setStep,a=e.countSteps,s=e.step,l=Object(O.b)(),u=Object(O.c)(y.a),x=u.tipo_pagamento,p=u.troco,h=void 0===p?0:p,g=u.empresa,f=u.tipo_cartao,m=(u.image,Object(r.useState)([])),v=Object(c.a)(m,2),C=v[0],S=v[1],D=Object(r.useState)([]),T=Object(c.a)(D,2),A=T[0],E=T[1],P=Object(r.useState)(null),N=Object(c.a)(P,2),F=N[0],B=N[1],I=Object(r.useState)(),q=Object(c.a)(I,2),L=q[0],H=q[1];Object(r.useEffect)((function(){if("DINHEIRO"===x){u.tipo_cartao,u.id_comprovante;var e=Object(i.a)(u,["tipo_cartao","id_comprovante"]);l(Object(_.a)(e))}else if("CART\xc3O"===x){u.troco,u.id_comprovante;var t=Object(i.a)(u,["troco","id_comprovante"]);l(Object(_.a)(t))}else if("LINK PAGAMENTO"===x){u.troco,u.tipo_cartao;var n=Object(i.a)(u,["troco","tipo_cartao"]);l(Object(_.a)(n))}}),[x]),Object(r.useEffect)((function(){!function(){if(!L)return;var e=new FileReader;e.readAsDataURL(L),e.onloadend=function(){B(e.result)}}()}),[L]);var J=[{value:"DINHEIRO",label:"Dinheiro"},{value:"CART\xc3O",label:"Cart\xe3o"},{value:"CART\xc3O D\xc9BITO",label:"Cart\xe3o D\xe9bito"},{value:"CART\xc3O CR\xc9DITO",label:"Cart\xe3o Cr\xe9dito"},{value:"LINK PAGAMENTO",label:"Pagamentos Digitais"}],K=Object(r.useCallback)((function(e){if(0===e.length)return;H(e[0])}),[]),X=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,r,a,o,i,s,l,d,b,u,x,O,p,h,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)("empresasVisible/single/".concat(g.id));case 2:t=e.sent,n=t.data,c=n.cart_visa,r=n.cart_master_card,a=n.cart_elo,o=n.cart_sodexo,i=n.cart_hipercard,s=n.cart_american_express,l=n.cart_diners_club,d=n.cart_alelo,b=n.cart_ticket,u=n.cart_amex,x=n.cart_vr,O=n.cart_cabal,p={cart_visa:c,cart_master_card:r,cart_elo:a,cart_sodexo:o,cart_hipercard:i,cart_american_express:s,cart_diners_club:l,cart_alelo:d,cart_ticket:b,cart_amex:u,cart_vr:x,cart_cabal:O},h=Object.keys(p),f=h.map((function(e){return p[e]&&{label:e.replace("cart_","").replace("_"," "),value:e}})).filter((function(e){return e})),S(f);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.b)("linkpgVisible/single/".concat(g.id,"?ativo=true"));case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Y(),X()}),[]);var Q=Object(z.a)({onDrop:K,disabled:L}),Z=Q.getRootProps,ee=Q.getInputProps,te=Q.isDragActive;function ne(){return(ne=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return","Forma de pagamento n\xe3o informada!");case 2:if("LINK PAGAMENTO"!==x){e.next=8;break}return e.next=5,ce();case 5:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return re.apply(this,arguments)}function re(){return(re=Object(b.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("files",L),l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{image:L}))),e.prev=3,e.next=6,Object(w.a)("file/comprovanteVisible",t);case 6:return n=e.sent,c=n.data,l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{id_comprovante:c[0].id,url_comprovante:c[0].url}))),e.abrupt("return");case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return","Comprovante inv\xe1lido");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(R.jsx)(k,{title:t,setStep:n,countSteps:a,step:s,validation:function(){return ne.apply(this,arguments)},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Forma de Pagamento"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(M.a,{options:J,placeholder:"Selecione a forma de pagamento",value:J.find((function(e){return e.value===x})),onChange:function(e){l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{tipo_pagamento:e.value})))},maxMenuHeight:190})})]})}),"DINHEIRO"===x&&Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Troco Para"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(W.a,{value:h,onChange:function(e,t,n){l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{troco:t})))},precision:"2",prefix:"R$ ",style:{height:"35px",width:"100%",border:"1px solid rgba(0, 0, 0, .2)",borderRadius:"3px",padding:"0 10px"}})})]})}),["CART\xc3O","CART\xc3O CR\xc9DITO","CART\xc3O D\xc9BITO"].includes(x)&&Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Tipo Cart\xe3o"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(M.a,{options:C,placeholder:"Selecionar Bandeiras",value:C.find((function(e){return e.value===f})),onChange:function(e){return l(Object(_.a)(Object(d.a)(Object(d.a)({},u),{},{tipo_cartao:e.value})))},maxMenuHeight:130})})]})}),"LINK PAGAMENTO"===x&&Object(R.jsxs)(o.j,{xs:"12",lg:"12",children:[Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Links dispon\xedveis"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{background:"#f0f0f7",padding:"15px",borderRadius:"3px"},children:A.map((function(e,t){var n=e.tipo_link,c=e.url_pagamento,r=e.usuario_pagamento,a=e.senha_pagamento,i=e.cb_nome_banco,s=e.cb_numero_banco,l=e.cb_cnpj_cpf,j=e.cb_agencia,d=e.cb_conta,b=e.cd_digito,u=e.cb_favorecido,x=e.cb_pix;return Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{style:{fontWeight:"bold"},children:"Link para pagamento"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{margin:"10px 0px 0px 0px",borderBottom:"2px dotted black"},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Tipo do link: ",n]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Usu\xe1rio: ",r," "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Senha: ",a," "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"5px"},children:Object(R.jsx)("a",{href:c,target:"_blank",children:"Link"})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{style:{fontWeight:"bold",marginTop:"10px"},children:"Conta para transfer\xeancia"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{margin:"10px 0px 0px 0px",borderBottom:"2px dotted black"},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Nome do banco:  ",i]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["N\xfamero do banco:   ",s," "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Ag\xeancia:   ",j," "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["Conta:   ",d,"  "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["D\xedgito:  ",b,"  "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.w,{children:["CPF ou CNPJ:   ",l,"  "]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"5px"},children:Object(R.jsxs)(o.w,{children:["Favorecido:   ",u,"  "]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{style:{fontWeight:"bold",marginTop:"10px"},children:"Pix"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{margin:"10px 0px 0px 0px",borderBottom:"2px dotted black"},children:Object(R.jsxs)(o.w,{children:["Chave PIX: ",x," "]})})]},t)}))})]}),Object(R.jsxs)(o.D,{style:{marginTop:"10px"},children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{fontWeight:"bold"},children:Object(R.jsx)(o.w,{children:"Comprovante"})}),L?Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{width:"300px",height:"300px",position:"relative"},children:Object(R.jsxs)(V,{children:[Object(R.jsx)($,{removeImage:function(){H()},children:Object(R.jsx)(U.a,{name:"cil-trash",size:25,style:{color:"white"}})}),Object(R.jsx)("img",{style:{backgroundSize:"contain",width:"100%",height:"100%"},src:F})]})}):Object(R.jsxs)(G,{isDragActive:te,getRootProps:Z,children:[Object(R.jsx)("input",Object(d.a)({},ee())),Object(R.jsx)(o.w,{style:{padding:"10px"},children:"Arraste e solte uma imagem aqui ou clique para selecionar"})]})]})]})]})})},K=n(837),X=n(643),Y=function(){Object(a.g)(),Object(O.b)();var e=Object(O.c)(y.a),t=e.produtos_pedidos,n=e.taxa_de_entrega,i=Object(r.useState)(!1),s=Object(c.a)(i,2),l=(s[0],s[1],Object(r.useState)([])),j=Object(c.a)(l,2),d=(j[0],j[1],Object(r.useState)()),b=Object(c.a)(d,2),u=(b[0],b[1],Object(r.useState)()),x=Object(c.a)(u,2);x[0],x[1];function p(){return t.reduce((function(e,n){var c=n.quantity,r=n.valor,a=n.sub_id,o=n.info;return n.avulso?e+c*r:"adicionais"===o?e+0:e+(t.reduce((function(e,t){return t.sub_id===a&&"adicionais"===t.info?e+t.valor*t.quantity:e+0}),0)+r)*c}),0)}return Object(R.jsxs)(o.e,{children:[Object(R.jsx)(o.f,{children:Object(R.jsx)(o.D,{children:0===t.length?Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"20px"},children:Object(R.jsx)(o.D,{style:{textAlign:"center",height:"100%",alignItems:"center"},children:Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)("strong",{children:[Object(R.jsx)("text",{style:{fontSize:"16px"},children:"Nenhum produto encontrado "}),Object(R.jsx)(U.a,{name:"cil-warning",width:26})]})})})}):Object(R.jsx)(o.j,{xs:"12",lg:"12",children:t.map((function(e){var n=e.descricao,c=e.quantity,r=e.valor,a=e.porcao_produto,i=e.sub_id,s=e.info,l=e.avulso,j="adicionais"===s?n:a.nome_produto;return l||"adicionais"!==s?Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"8",lg:"8",children:Object(R.jsxs)(C.g,{size:"14px",children:[c,"x ",j," - ",n]})}),Object(R.jsx)(o.j,{xs:"4",lg:"4",style:{justifyContent:"flex-end",display:"flex"},children:Object(R.jsxs)(C.g,{size:"12px",children:["R$ ",(r*c).toFixed(2)]})}),t.map((function(e,t){if(i&&e.sub_id===i&&"adicionais"===e.info&&!e.avulso)return Object(R.jsxs)(o.j,{xs:"12",lg:"12",style:{display:"flex",justifyContent:"space-between",paddingLeft:"25px"},children:[Object(R.jsxs)(C.e,{children:[e.quantity*c,"x ",e.descricao]}),Object(R.jsxs)(C.e,{children:["R$ ",(e.valor*e.quantity*c).toFixed(2)]})]},t)}))]}):null}))})})}),Object(R.jsxs)(o.f,{style:{borderTop:"1px solid",borderColor:"#d8dbe0"},children:[Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"8",lg:"8",children:Object(R.jsx)(C.c,{text:"SubTotal"})}),Object(R.jsx)(o.j,{xs:"4",lg:"4",style:{display:"flex",justifyContent:"flex-end"},children:Object(R.jsx)(C.c,{text:"R$ ".concat(p().toFixed(2))})})]}),Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"8",lg:"8",children:Object(R.jsx)(C.c,{text:"Taxa de Entrega"})}),Object(R.jsx)(o.j,{xs:"4",lg:"4",style:{display:"flex",justifyContent:"flex-end"},children:Object(R.jsx)(C.c,{text:"R$ ".concat(n?n.toFixed(2):0)})})]}),Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"8",lg:"8",children:Object(R.jsx)(C.c,{text:"Total"})}),Object(R.jsx)(o.j,{xs:"4",lg:"4",style:{display:"flex",justifyContent:"flex-end"},children:Object(R.jsx)(C.c,{text:"R$ ".concat((p()+(null!==n&&void 0!==n?n:0)).toFixed(2))})})]})]})]})},Q=function(e){var t=e.title,n=e.setStep,s=e.countSteps,l=e.step,u=Object(a.g)(),x=Object(O.b)(),h=Object(O.c)(y.a),g=h.tipo_atendimento,f=h.protocolo,m=h.nome_cliente,v=h.telefone_cliente,S=h.tipo_telefone,T=h.tipo_retirada,A=h.endereco,E=h.numero,P=h.bairro,F=h.cidade,B=h.uf,I=h.complemento,q=h.tipo_pagamento,L=h.troco,M=h.tipo_cartao,H=h.check_agendamento,z=h.dh_agendamento,G=h.tempo_entrega,V=void 0===G?0:G,$=h.tempo_producao,U=h.produtos_pedidos,W=h.empresa,J=h.nota_fiscal,Q=h.cpf_cnpj_nfs,Z=(h.observacoes,h.tempo_adicional),ee=void 0===Z?0:Z,te=h.taxa_de_entrega,ne=void 0===te?0:te,ce=h.url_comprovante,re=Object(r.useState)(!1),ae=Object(c.a)(re,2),oe=(ae[0],ae[1]);function ie(){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(j.a.mark((function e(){var t,n,c,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",U.map((function(e){var n=e.descricao,c=e.quantity,r=e.valor,a=e.porcao_produto,o=e.sub_id,i=e.info,s=e.avulso,l="adicionais"===i?n:a.nome_produto;if(!s&&"adicionais"===i)return"";t+="".concat(c,"x ").concat(l," - ").concat(n," R$ ").concat((r*c).toFixed(2),"\n"),U.map((function(e,n){o&&e.sub_id===o&&"adicionais"===e.info&&!e.avulso&&(t+="   ".concat(e.quantity*c,"x ").concat(e.descricao," R$ ").concat((e.valor*e.quantity*c).toFixed(2),"\n"))})),t+="\n\n"})),n="*PEDIDO ".concat(f,"*\nAgendamento: ").concat(H?"SIM":"N\xc3O","\nData do Agendamento: ").concat(z?Object(p.a)(new Date(z),"dd/MM/yyyy HH:mm"):"Sem Informa\xe7\xe3o","\n\n*Dados do Cliente*\nNome: ").concat(m,"\nTipo Telefone: ").concat(S,"\nN\xfamero: ").concat(v,"\n\n*Dados de Entrega*\nTipo de Entrega: ").concat(T,"\nEndere\xe7o: ").concat(A?"".concat(A," - ").concat(E,", ").concat(P,", ").concat(F," - ").concat(B):"Sem Informa\xe7\xe3o","\nRef\xearencia: ").concat(null!==I&&void 0!==I?I:"Sem Informa\xe7\xe3o","\n\n*Produtos*\n\n").concat(t,"\n*Pagamento*\nTipo: ").concat(q,"\n").concat(L>0?"Troco para: R$ ".concat(L.toFixed(2)):M?"Bandeira: ".concat(M.replace("cart_","").replace("_"," ")):"","\n\nSubTotal: R$ ").concat(de().toFixed(2),"\nTaxa de Entrega: R$ ").concat(ne.toFixed(2),"\n*Total:* R$ ").concat(be().toFixed(2)),c=v.replace(/[^a-z0-9]/gi,""),r=JSON.parse(localStorage.getItem("info_boot")),(a=new FormData).append("email",r?r.email:""),a.append("token",r?r.token:""),a.append("idapp",r?r.idapp:""),a.append("idmsg",f),a.append("whatsapp","55".concat(c)),a.append("mensagem",n),ce?(a.append("midia","imagem"),a.append("url_anexo","http://powerindicaassociadoapi.kinghost.net:21249/delivery".concat(ce))):a.append("midia","texto"),e.next=16,Object(w.c)(a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.prev=1,e.next=4,Object(w.a)("atendimentoVisible",Object(d.a)(Object(d.a)({},h),{},{id_empresa:W.id,tempo_producao:"LOCAL"===T?Number($)+Number(ee):Number(V)+Number(ee),tempo_adicional:ee,id_user:"15cdd7af-ad7b-44bc-8d49-fdc73ac54696",user:"power"}));case 4:oe(!1),ie(),u.push("/finish"),x(Object(_.b)()),x(Object(X.b)()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),oe(!1),e.t0.response&&e.t0.response.data.message.errors&&D.a.fire("Erro",e.t0.response.data.message.errors[0].message,"error");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function je(e){return Object(p.a)(Object(K.a)(new Date,e),"dd/MM HH:mm")}function de(){return U.reduce((function(e,t){var n=t.quantity,c=t.valor,r=t.sub_id,a=t.info;return t.avulso?e+n*c:"adicionais"===a?e+0:e+(U.reduce((function(e,t){return t.sub_id===r&&"adicionais"===t.info?e+t.valor*t.quantity:e+0}),0)+c)*n}),0)}function be(){return de()+ne}return Object(R.jsx)(k,{title:t,setStep:n,countSteps:s,step:l,finish:function(){!function(){le.apply(this,arguments)}()},children:Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"6",style:{marginBottom:"10px"},children:Object(R.jsxs)(o.D,{className:"section-border",children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginTop:"2px"},children:Object(R.jsx)(C.g,{children:"Dados do Atendimento"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(C.e,{children:["Tipo Atendimento: ",g]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(C.e,{children:["Protocolo: ",f]})}),H&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Agendado para: ",N(z)]})}),"LOCAL"===T&&!H&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Previs\xe3o entrega: ",je(Number($)+Number(ee))]})}),"ENTREGA"===T&&!H&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Previs\xe3o entrega: ",je(Number(V)+Number(ee))]})}),0!==ee&&!H&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Tempo adicional: ",ee," minutos"]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",style:{marginBottom:"10px"},children:Object(R.jsxs)(o.D,{className:"section-border",children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginTop:"2px"},children:Object(R.jsx)(C.g,{children:"Dados do Cliente:"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(C.e,{children:["Nome: ",m]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(C.e,{children:["Tipo Telefone: ",S]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["N\xfamero: ",v]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",style:{marginBottom:"10px"},children:Object(R.jsxs)(o.D,{className:"section-border",children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginTop:"2px"},children:Object(R.jsx)(C.g,{children:"Dados da Entrega:"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Tipo da Entrega: ",T]})}),"LOCAL"!==T&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(C.e,{children:["Endere\xe7o: ",A,", ",E," - ",P,", ",F,"/",B]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Refer\xeancia: ",I]})})]})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",style:{marginBottom:"10px"},children:Object(R.jsxs)(o.D,{className:"section-border",children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginTop:"2px"},children:Object(R.jsx)(C.g,{children:"Pagamento:"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Tipo: ",q]})}),L>0&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Troco para: ",L.toFixed(2)]})}),M&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(C.e,{children:["Bandeira: ",M.replace("cart_","").replace("_"," ")]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"6",style:{marginBottom:"10px"},children:Object(R.jsxs)(o.D,{className:"section-border",children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginTop:"2px"},children:Object(R.jsx)(C.g,{children:"Cupom Fiscal:"})}),Object(R.jsx)(o.j,{xs:"6",lg:"6",style:{marginBottom:"2px"},children:Object(R.jsx)(C.e,{children:"Deseja emitir o cupom fiscal do pedido?"})}),Object(R.jsx)(o.j,{xs:"6",lg:"6",children:Object(R.jsx)(o.E,{color:"success",shape:"pill",checked:J,onChange:function(e){if(e.target.checked)return x(Object(_.a)(Object(d.a)(Object(d.a)({},h),{},{nota_fiscal:e.target.checked})));h.nota_fiscal,h.cpf_cnpj_nfs;var t=Object(i.a)(h,["nota_fiscal","cpf_cnpj_nfs"]);return x(Object(_.a)(t))}})}),J&&Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"2px"},children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"CPF ou CNPJ"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.u,{onChange:function(e){return x(Object(_.a)(Object(d.a)(Object(d.a)({},h),{},{cpf_cnpj_nfs:e.target.value})))},value:Q})})]})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsxs)(o.q,{row:!0,children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.w,{children:"Observa\xe7\xf5es para Entrega"})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(o.F,{rows:"5",onChange:function(e){return x(Object(_.a)(Object(d.a)(Object(d.a)({},h),{},{observacoes:e.target.value})))}})})]})}),Object(R.jsx)(o.j,{xs:"12",lg:"12",children:Object(R.jsx)(Y,{})})]})})};t.default=function(){var e=Object(a.g)(),t=Object(r.useState)(0),n=Object(c.a)(t,2),i=n[0],s=n[1],l=[{label:"Agendar Pedido",component:T},{label:"Telefone",component:P},{label:"Dados do Atendimento",component:F},{label:"Forma de Entrega",component:H},{label:"Forma de Pagamento",component:J},{label:"Confirmar Pedido",component:Q}];return Object(R.jsxs)(o.D,{children:[Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{marginBottom:"50px"},children:function(){var e=l[i].component,t=l[i].label;return Object(R.jsx)(e,{title:t,setStep:s,countSteps:l.length,step:i})}()}),Object(R.jsx)(o.j,{xs:"12",lg:"12",style:{position:"fixed",bottom:"0",left:"0",backgroundColor:"#FFF",borderTop:"1px solid #d8dbe0",zIndex:"10"},children:Object(R.jsx)(o.d,{onClick:function(){return e.goBack()},style:{width:"100%",padding:"10px",margin:"10px 0"},block:!0,color:"primary",children:"Continuar Comprando"})})]})}}}]);
//# sourceMappingURL=10.d3da85e9.chunk.js.map